(this.webpackJsonpreactexercises=this.webpackJsonpreactexercises||[]).push([[0],{142:function(e,t){},149:function(e,t,s){"use strict";s.r(t);var a=s(0),o=s(10),r=s(184),i=s(99),n=Object(i.a)({typography:{useNextVariants:!0},palette:{common:{black:"#000",white:"#fff"},background:{paper:"#fff",default:"#fafafa"},primary:{light:"rgba(226, 115, 150, 0.57)",main:"rgba(226, 115, 150, 1)",dark:"rgba(134, 41, 70, 1)",contrastText:"#fff"},secondary:{light:"rgba(112, 174, 110, 0.49)",main:"rgba(112, 174, 110, 1)",dark:"rgba(73, 116, 71, 1)",contrastText:"#fff"},error:{light:"rgba(223, 132, 132, 1)",main:"rgba(255, 17, 0, 1)",dark:"rgba(172, 2, 2, 1)",contrastText:"#fff"},text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"}}}),c=(s(60),s(95)),l=s.n(c),m=s(98),j=s.n(m),d=s(185),g=s(191),h=s(102),b=s(186),x=s(195),p=s(187),u=s(193),O=s(188),y=s(194),f=s(189),v=s(190),w=s.p+"static/media/logo.8034ca32.png",N=s(180),k=s(179),C=s(5);var T=e=>{let t=e.message;return Object(C.jsxs)("div",{className:"userBubble",style:{backgroundColor:t.colour},children:[Object(C.jsxs)(h.a,{component:"span",style:{fontSize:12},children:[t.from," says:",Object(C.jsxs)("div",{style:{float:"right"},children:["room: ",t.room,Object(C.jsx)("br",{}),"@",t.at]})]}),Object(C.jsx)(h.a,{style:{marginTop:20},children:t.text})]})};var R=e=>Object(C.jsx)("div",{style:{content:"",position:"absolute",bottom:"-15px",left:"".concat(e.alignTriangle),borderWidth:"15px 15px 0",borderStyle:"solid",borderColor:"".concat(e.colour," transparent")}});var E=e=>{const t=Object(a.useRef)(null);return Object(a.useEffect)((()=>{t.current.scrollIntoView(!0)}),[]),Object(C.jsxs)("div",{children:[Object(C.jsxs)(k.a,{ref:t,style:{textAlign:"left",marginBottom:"5px",width:"70%",marginLeft:e.message.isMe?"auto":"7%",paddingLeft:0,paddingRight:0,display:"inherit"},children:[Object(C.jsx)(T,{message:e.message}),Object(C.jsx)(R,{colour:e.message.colour,alignTriangle:e.message.isMe?"78%":0})]}),Object(C.jsx)("p",{})]})};var M=e=>{let t=e.messages.map(((e,t)=>Object(C.jsx)(E,{message:e},t)));return Object(C.jsx)(N.a,{children:t})},L=s(97),S=s.n(L),A=s(181),B=s(182),I=s(183);var J=e=>Object(C.jsx)(A.a,{position:"static",children:Object(C.jsxs)(B.a,{color:"primary",title:"Sample Toolbar",children:[Object(C.jsx)(h.a,{variant:"h6",color:"inherit",children:"Chat it Up!"}),!e.showIcon&&Object(C.jsx)("section",{style:{height:90,width:90,marginLeft:"auto"},children:Object(C.jsx)(I.a,{onClick:()=>e.viewDialog(),children:Object(C.jsx)(S.a,{style:{color:"white",height:70,width:70}})})})]})});var W=()=>{const[e,t]=Object(a.useReducer)(((e,t)=>({...e,...t})),{messages:[],rooms:[],clients:[],status:"",showjoinfields:!0,alreadyexists:!1,chatName:"",roomName:"",typingMsg:"",isTyping:!1,message:"",open:!1});Object(a.useEffect)((()=>{o()}),[]);const s=()=>t({open:!e.open}),o=()=>{const e=l.a.connect();e.on("getAllRooms",i),e.on("nameexists",c),e.on("welcome",k),e.on("someonejoined",k),e.on("someoneleft",k),e.on("someoneistyping",m),e.on("newmessage",N),t({socket:e})},i=e=>{t({rooms:e.rooms,clients:e.clients})},c=e=>{t({status:e.text})},m=s=>{s.from!==e.chatName&&t({typingMsg:s.text})},N=e=>{k(e),t({typingMsg:"",message:""})},k=s=>{let a=e.messages;a.push(s),t({messages:a,users:s.users,showjoinfields:!1,alreadyexists:!1})},T=e=>{t({roomName:e.target.value})};return Object(C.jsxs)(r.a,{theme:n,children:[Object(C.jsxs)(d.a,{children:[Object(C.jsx)(J,{viewDialog:s,showIcon:e.showjoinfields}),e.showjoinfields&&Object(C.jsxs)("div",{children:[Object(C.jsx)("img",{src:w,alt:"logo",title:"Chat it Up! logo",width:"20%",style:{paddingLeft:"40%",marginTop:20}}),Object(C.jsx)("h3",{style:{textAlign:"center"},children:"Sign In"}),Object(C.jsx)("div",{style:{border:"solid",borderColor:"lightgrey",borderWidth:1,borderRadius:2,padding:"3vw",margin:"3vw"},children:Object(C.jsx)(g.a,{onChange:e=>{t({chatName:e.target.value,status:""})},placeholder:"Chat Name",autoFocus:!0,required:!0,value:e.chatName,error:""!==e.status,helperText:e.status})}),Object(C.jsx)("p",{}),Object(C.jsxs)("div",{style:{border:"solid",borderColor:"lightgrey",borderRadius:2,borderWidth:1,padding:"3vw",margin:"3vw"},children:[Object(C.jsx)(h.a,{color:"primary",children:"Join Existing or Enter Room Name"}),Object(C.jsx)(b.a,{component:"fieldset",style:{width:"100%"},children:Object(C.jsx)(x.a,{name:"roomchoice",value:e.roomName,onChange:T,children:e.rooms.map(((e,t)=>Object(C.jsx)(p.a,{value:e,control:Object(C.jsx)(u.a,{}),label:e},t)))})}),Object(C.jsx)(g.a,{onChange:T,placeholder:"Enter room name",required:!0,value:e.roomName})]}),Object(C.jsx)("p",{}),Object(C.jsx)(O.a,{variant:"contained","data-testid":"submit",color:"primary",style:{marginLeft:"3%"},onClick:()=>{e.socket.emit("join",{chatName:e.chatName,roomName:e.roomName})},disabled:""===e.chatName||""===e.roomName,children:"Join"})]}),!e.showjoinfields&&Object(C.jsxs)("div",{children:[e.messages&&Object(C.jsx)(M,{messages:e.messages}),Object(C.jsx)(g.a,{onChange:s=>{t({message:s.target.value}),!1===e.isTyping&&(e.socket.emit("typing",{from:e.chatName},(e=>{})),t({isTyping:!0}))},placeholder:"type something here",autoFocus:!0,value:e.message,onKeyPress:s=>"Enter"===s.key?void(""!==e.message&&(e.socket.emit("message",{from:e.chatName,text:e.message},(e=>{})),t({isTyping:!1}))):null,style:{margin:5,width:"97%"}}),Object(C.jsx)(h.a,{color:"primary",children:e.typingMsg})]})]}),Object(C.jsxs)(y.a,{open:e.open,onClose:s,style:{margin:20},children:[Object(C.jsx)(f.a,{style:{textAlign:"center"},children:"Who's On?"}),Object(C.jsx)(v.a,{children:e.clients&&e.clients.map((e=>Object(C.jsxs)(h.a,{style:{marginBottom:10},children:[Object(C.jsx)(j.a,{style:{marginBottom:-6,paddingRight:20,color:e.colour}})," ",e.chatName," is in room ",e.roomName]},e.chatName)))})]})]})};var q=function(){return Object(C.jsx)(r.a,{theme:n,children:Object(C.jsx)("div",{children:Object(C.jsx)(W,{})})})},D=s(100);Object(o.render)(Object(C.jsx)(D.a,{children:Object(C.jsx)(q,{})}),document.querySelector("#root"))},60:function(e,t,s){}},[[149,1,2]]]);
//# sourceMappingURL=main.5f0b0a2d.chunk.js.map