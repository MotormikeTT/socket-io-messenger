(this.webpackJsonpreactexercises=this.webpackJsonpreactexercises||[]).push([[0],{151:function(e,t){},160:function(e,t,s){"use strict";s.r(t);var n=s(0),o=s(10),r=s(195),a=s(101),i=Object(a.a)({typography:{useNextVariants:!0},palette:{common:{black:"#000",white:"#fff"},background:{paper:"#fff",default:"#fafafa"},primary:{light:"rgba(226, 115, 150, 0.57)",main:"rgba(226, 115, 150, 1)",dark:"rgba(134, 41, 70, 1)",contrastText:"#fff"},secondary:{light:"rgba(112, 174, 110, 0.49)",main:"rgba(112, 174, 110, 1)",dark:"rgba(73, 116, 71, 1)",contrastText:"#fff"},error:{light:"rgba(223, 132, 132, 1)",main:"rgba(255, 17, 0, 1)",dark:"rgba(172, 2, 2, 1)",contrastText:"#fff"},text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"}}}),c=(s(59),s(103)),l=s(69),j=s(97),m=s.n(j),d=s(100),g=s.n(d),b=s(196),h=s(202),u=s(105),f=s(197),x=s(206),p=s(198),O=s(204),y=s(199),v=s(205),w=s(200),N=s(201),k=s.p+"static/media/logo.8034ca32.png",C=s(191),T=s(190),R=s(5),E=function(e){var t=e.message;return Object(R.jsxs)("div",{className:"userBubble",style:{backgroundColor:t.colour},children:[Object(R.jsxs)(u.a,{component:"span",style:{fontSize:12},children:[t.from," says:",Object(R.jsxs)("div",{style:{float:"right"},children:["room: ",t.room,Object(R.jsx)("br",{}),"@",t.at]})]}),Object(R.jsx)(u.a,{style:{marginTop:20},children:t.text})]})},M=function(e){return Object(R.jsx)("div",{style:{content:"",position:"absolute",bottom:"-15px",left:"".concat(e.alignTriangle),borderWidth:"15px 15px 0",borderStyle:"solid",borderColor:"".concat(e.colour," transparent")}})},I=function(e){var t=Object(n.useRef)(null);return Object(n.useEffect)((function(){t.current.scrollIntoView(!0)}),[]),Object(R.jsxs)("div",{children:[Object(R.jsxs)(T.a,{ref:t,style:{textAlign:"left",marginBottom:"5px",width:"70%",marginLeft:e.message.isMe?"auto":"7%",paddingLeft:0,paddingRight:0,display:"inherit"},children:[Object(R.jsx)(E,{message:e.message}),Object(R.jsx)(M,{colour:e.message.colour,alignTriangle:e.message.isMe?"78%":0})]}),Object(R.jsx)("p",{})]})},L=function(e){var t=e.messages.map((function(e,t){return Object(R.jsx)(I,{message:e},t)}));return Object(R.jsx)(C.a,{children:t})},S=s(99),A=s.n(S),B=s(192),J=s(193),W=s(194),q=function(e){return Object(R.jsx)(B.a,{position:"static",children:Object(R.jsxs)(J.a,{color:"primary",title:"Sample Toolbar",children:[Object(R.jsx)(u.a,{variant:"h6",color:"inherit",children:"Chat it Up! - Info3139"}),!e.showIcon&&Object(R.jsx)("section",{style:{height:90,width:90,marginLeft:"auto"},children:Object(R.jsx)(W.a,{onClick:function(){return e.viewDialog()},children:Object(R.jsx)(A.a,{style:{color:"white",height:70,width:70}})})})]})})},D=function(){var e=Object(n.useReducer)((function(e,t){return Object(l.a)(Object(l.a)({},e),t)}),{messages:[],rooms:[],clients:[],status:"",showjoinfields:!0,alreadyexists:!1,chatName:"",roomName:"",typingMsg:"",isTyping:!1,message:"",open:!1}),t=Object(c.a)(e,2),s=t[0],o=t[1];Object(n.useEffect)((function(){j()}),[]);var a=function(){return o({open:!s.open})},j=function(){var e=m.a.connect();e.on("getAllRooms",d),e.on("nameexists",C),e.on("welcome",M),e.on("someonejoined",M),e.on("someoneleft",M),e.on("someoneistyping",T),e.on("newmessage",E),o({socket:e})},d=function(e){o({rooms:e.rooms,clients:e.clients})},C=function(e){o({status:e.text})},T=function(e){e.from!==s.chatName&&o({typingMsg:e.text})},E=function(e){M(e),o({typingMsg:"",message:""})},M=function(e){var t=s.messages;t.push(e),o({messages:t,users:e.users,showjoinfields:!1,alreadyexists:!1})},I=function(e){o({roomName:e.target.value})};return Object(R.jsxs)(r.a,{theme:i,children:[Object(R.jsxs)(b.a,{children:[Object(R.jsx)(q,{viewDialog:a,showIcon:s.showjoinfields}),s.showjoinfields&&Object(R.jsxs)("div",{children:[Object(R.jsx)("img",{src:k,alt:"logo",title:"Chat it Up! logo",width:"20%",style:{paddingLeft:"40%",marginTop:20}}),Object(R.jsx)("h3",{style:{textAlign:"center"},children:"Sign In"}),Object(R.jsx)("div",{style:{border:"solid",borderColor:"lightgrey",borderWidth:1,borderRadius:2,padding:"3vw",margin:"3vw"},children:Object(R.jsx)(h.a,{onChange:function(e){o({chatName:e.target.value,status:""})},placeholder:"Chat Name",autoFocus:!0,required:!0,value:s.chatName,error:""!==s.status,helperText:s.status})}),Object(R.jsx)("p",{}),Object(R.jsxs)("div",{style:{border:"solid",borderColor:"lightgrey",borderRadius:2,borderWidth:1,padding:"3vw",margin:"3vw"},children:[Object(R.jsx)(u.a,{color:"primary",children:"Join Existing or Enter Room Name"}),Object(R.jsx)(f.a,{component:"fieldset",style:{width:"100%"},children:Object(R.jsx)(x.a,{name:"roomchoice",value:s.roomName,onChange:I,children:s.rooms.map((function(e,t){return Object(R.jsx)(p.a,{value:e,control:Object(R.jsx)(O.a,{}),label:e},t)}))})}),Object(R.jsx)(h.a,{onChange:I,placeholder:"Enter room name",required:!0,value:s.roomName})]}),Object(R.jsx)("p",{}),Object(R.jsx)(y.a,{variant:"contained","data-testid":"submit",color:"primary",style:{marginLeft:"3%"},onClick:function(){s.socket.emit("join",{chatName:s.chatName,roomName:s.roomName})},disabled:""===s.chatName||""===s.roomName,children:"Join"})]}),!s.showjoinfields&&Object(R.jsxs)("div",{children:[s.messages&&Object(R.jsx)(L,{messages:s.messages}),Object(R.jsx)(h.a,{onChange:function(e){o({message:e.target.value}),!1===s.isTyping&&(s.socket.emit("typing",{from:s.chatName},(function(e){})),o({isTyping:!0}))},placeholder:"type something here",autoFocus:!0,value:s.message,onKeyPress:function(e){return"Enter"===e.key?void(""!==s.message&&(s.socket.emit("message",{from:s.chatName,text:s.message},(function(e){})),o({isTyping:!1}))):null},style:{margin:5,width:"97%"}}),Object(R.jsx)(u.a,{color:"primary",children:s.typingMsg})]})]}),Object(R.jsxs)(v.a,{open:s.open,onClose:a,style:{margin:20},children:[Object(R.jsx)(w.a,{style:{textAlign:"center"},children:"Who's On?"}),Object(R.jsx)(N.a,{children:s.clients&&s.clients.map((function(e){return Object(R.jsxs)(u.a,{style:{marginBottom:10},children:[Object(R.jsx)(g.a,{style:{marginBottom:-6,paddingRight:20,color:e.colour}})," ",e.chatName," is in room ",e.roomName]},e.chatName)}))})]})]})};var F=function(){return Object(R.jsx)(r.a,{theme:i,children:Object(R.jsx)("div",{children:Object(R.jsx)(D,{})})})},U=s(102);Object(o.render)(Object(R.jsx)(U.a,{children:Object(R.jsx)(F,{})}),document.querySelector("#root"))},59:function(e,t,s){}},[[160,1,2]]]);